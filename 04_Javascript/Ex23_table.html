<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Rate Table</title>
    <link rel="stylesheet" href="css/Ex23_table.css">
</head>
<body>
    <table border="1">
        <caption>입장료</caption>
        <thead>
            <tr>
                <th>Class</th>
                <th>Fee</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>infant</td>
                <td>5,000</td>
            </tr>
            <tr>
                <td>child</td>
                <td>7,000</td>
            </tr>
            <tr>
                <td>adult</td>
                <td>10,000</td>
            </tr>
        </tbody>
    </table>
    <fieldset>
        <legend>구분</legend>
        <input type="text" id="input">
        <button id="confirm">입장하시겠습니까?</button>
    </fieldset>
</body>
<script>
    const button = document.getElementById('confirm');
    button.onclick = confirm;
    
    var tr_temp;
    var text_temp;

    function confirm(){
        // alert("정말 누르시겠습니까?");
        const input = document.getElementById('input');
        const trs = document.querySelectorAll("tbody tr");
        var check = false;

        if(tr_temp){
            tr_temp.firstElementChild.innerHTML = text_temp;
        }

        trs.forEach((tr)=>{
            console.log(tr);
            console.log(tr.firstElementChild);
            let td = tr.firstElementChild;
            tr.style.background = "#FFFFFF";
            if(input.value == td.innerHTML){
                tr_temp = tr;
                text_temp = td.innerHTML;
                tr.style.background =
                 "#EF5350";
                td.innerHTML = '**' + td.innerHTML + '**';
                check = true;
            }
        });

        if(!check){
            alert("Class를 입력하세요.");
            var caption = document.querySelector('caption');
            caption.innerHTML = "무료로 입장 불가능합니다.";
        }


    }
</script>
</html>